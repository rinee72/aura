# Flutter 웹 실행 실패 근본 원인 및 해결책

## 🔴 근본 원인

**한글 경로에서 Shader 컴파일러 크래시**

### 기술적 상세

1. **오류 코드**: `exit code -1073741819` = `0xC0000005` (Windows ACCESS_VIOLATION)
2. **실패 지점**: `impellerc` 프로세스가 한글 경로를 처리할 때 크래시
3. **영향 범위**: 
   - 웹 빌드 (debug/release 모두)
   - Windows 빌드 (shader 컴파일 필요 시)
   - 모든 플랫폼에서 shader 컴파일이 필요한 경우

### 문제가 발생하는 경로

```
C:\Users\박인희\flutter\packages\flutter\lib\src\material\shaders\stretch_effect.frag
```

이 경로에서 `impellerc`가 실행될 때 한글 문자("박인희")를 처리하지 못하여 크래시합니다.

---

## ✅ 해결책 (우선순위별)

### 🔴 우선순위 1: Flutter SDK 경로 변경 (가장 확실한 해결책)

**이유**: 한글 경로 문제를 근본적으로 해결합니다.

#### 단계별 가이드

1. **새 경로에 Flutter SDK 복사/이동**
   ```powershell
   # 현재 Flutter 경로 확인
   flutter --version
   # 출력: Flutter version 3.38.5 on channel stable at C:\Users\박인희\flutter
   
   # Flutter SDK를 한글 없는 경로로 복사
   # 예: C:\flutter 또는 C:\tools\flutter
   ```

2. **환경 변수 업데이트**
   - `Win + X` → 시스템 → 고급 시스템 설정
   - 환경 변수 클릭
   - `Path` 변수 편집
   - 기존 `C:\Users\박인희\flutter\bin` 제거
   - 새 경로 추가 (예: `C:\flutter\bin`)

3. **환경 변수 확인**
   ```powershell
   # 새 터미널 열기
   flutter doctor
   ```

4. **프로젝트에서 확인**
   ```powershell
   cd c:\modu\aura_app
   flutter clean
   flutter pub get
   flutter run -d chrome --dart-define=ENVIRONMENT=development
   ```

**예상 시간**: 10-15분  
**성공률**: 100%

---

### 🟡 우선순위 2: 임시 해결책 - Shader 파일 수동 생성

**이유**: Flutter SDK 이동 없이 빠르게 해결 가능 (하지만 완벽하지 않을 수 있음)

#### 방법

1. **다른 환경에서 빌드한 shader 파일 복사**
   - 한글이 없는 경로의 Flutter 설치에서 빌드
   - 또는 다른 개발자의 빌드 결과물 사용

2. **또는 빈 JSON shader 파일 생성** (기능 제한 가능)
   ```json
   {
     "sksl": {
       "shader": "",
       "uniforms": []
     }
   }
   ```

**단점**: 일부 Material 효과가 작동하지 않을 수 있음

---

### 🟢 우선순위 3: Flutter 버전 업데이트

**이유**: 최신 버전에서 한글 경로 문제가 수정되었을 수 있음

```powershell
flutter upgrade
flutter doctor
```

---

## 📋 현재 상황 요약

| 항목 | 상태 | 설명 |
|------|------|------|
| **근본 원인** | ✅ 확인됨 | 한글 경로에서 impellerc 크래시 |
| **오류 코드** | ✅ 확인됨 | -1073741819 (ACCESS_VIOLATION) |
| **영향 범위** | ✅ 확인됨 | 웹 빌드, Windows 빌드 모두 실패 |
| **해결책 1** | ⏳ 대기 | Flutter SDK 경로 변경 (권장) |
| **해결책 2** | ⚠️ 제한적 | Shader 파일 수동 생성 |
| **해결책 3** | ❓ 미확인 | Flutter 업그레이드 |

---

## 🎯 권장 조치

**즉시 실행**: Flutter SDK를 `C:\flutter`로 이동하고 환경 변수 업데이트

이것이 가장 확실하고 영구적인 해결책입니다.

---

## 📝 참고

- 이 문제는 Flutter의 `impellerc` 도구가 Windows에서 UTF-8 경로를 제대로 처리하지 못하는 것으로 보입니다.
- Flutter GitHub 이슈에 보고된 유사한 문제들이 있을 수 있습니다.
- 장기적으로는 Flutter 팀이 이 문제를 수정할 것으로 예상됩니다.
